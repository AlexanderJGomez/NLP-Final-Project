Under terms of the agreement, Brown will serve five years of probation and must serve 180 days in jail or the equivalent -- about 1,400 hours -- in "labor-oriented service," said Sandi Gibbons, spokeswoman for the Los Angeles County District Attorney's office.
"This is not an easy sentence," Gibbons said.
Rihanna, whose real name is Robyn Rihanna Fenty, made a brief appearance at the hearing -- after Brown had left the courtroom -- to hear Los Angeles Criminal Court Judge Patricia Schnegg discuss the issuance of a "stay away" order requiring him to stay 100 yards from her.
Schnegg told Rihanna, who was wearing a black dress with white pearls around her neck, that she would consider lifting the order after Brown completes his domestic violence counseling but advised Rihanna not to contact Brown.
Rihanna's attorney, Donald Etra, said Rihanna made the request because she felt that a protective order in place, requiring that Brown not annoy or harass her, was sufficient.
"His sentence is not based on what he's available to do," Gibbons said.
Brown "embraces this as an opportunity to get his life back on track and get his career back on track," Geragos said, adding that Brown will speak further after his sentencing.
Rihanna had not attended any of the hearings in the case but had been following the case closely, Etra said earlier.
It was not Rihanna who called police but someone who heard her screams for help, according to a sworn statement by Los Angeles Police Detective DeShon Andrews.
A resident in the neighborhood heard Robyn F.'s plea for help and called 911, causing a police response.
At the end of his statement, the detective said Brown sent a text message nine days later, apologizing.
CNN's Denise Quan contributed to this story.