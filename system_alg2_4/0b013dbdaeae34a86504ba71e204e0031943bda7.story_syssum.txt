It has left the Bundesliga champions with 10 points from four games, a point clear of arch rivals Borussia Dortmund, Bayer Leverkusen and Mainz, who all boast perfect records from three games.
An unbeaten Bundesliga run of 29 games, dating back to last season was also extended, but there was a worrying development for Guardiola when captain for the night, midfielder Bastian Schweinsteiger, limped off with an ankle injury near the end.
After a 1-1 draw in Germany last week, Schalke's victory secured a 4-3 aggregate win, but they ended the match with 10 men after Jermaine Jones was red carded just after the hour mark.
The score stood at 1-1 at the time, but Schalke pulled ahead for the second time when Julian Draxler scored in the 79th minute, a crucial second away goal.
Steaua Bucharest, Austria Vienna and FC Basel will also go into Thursday's draw.