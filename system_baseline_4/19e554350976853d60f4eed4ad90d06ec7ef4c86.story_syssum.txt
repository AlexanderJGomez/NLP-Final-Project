He set up Thomas Muller to put the home side ahead in the early stages before helping himself to the second goal and his 63rd for Germany in the 26th minute.
The 33-year-old Lazio striker then worked in Real Madrid's Mesut Ozil for a close range strike in the 66th minute as Germany sealed their first win over the Dutch since 1996.
It got worse for Spain three minutes before half time when Lorient striker Joel Campbell, who is on-loan from English Premier League side Arsenal, doubled Costa Rica's lead.
England made several changes from the side which beat Spain 1-0 last Saturday, but were largely in command for much of the match against their fellow Euro 2012 qualifiers.
Debutant Jack Rodwell missed a glorious opportunity for his first goal for England and Manchester United youngster Phil Jones also went close as the home side might have added further to their tally against a below-par Swedish side who rarely threatened.
Mario Balotelli went close for Italy before former Juventus fullback Martin Caceres crossed for Fernandez to help the ball home.