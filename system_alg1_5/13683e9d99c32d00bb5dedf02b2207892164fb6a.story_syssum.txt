Federer had breezed to the last eight, but was always struggling against Melzer in blustery conditions.
The second followed a similar pattern, with Federer unable to capitalize on his seven break points in the match as the seventh seed went through.
If I had, it would be a pleasant surprise," said the second seed.
There was no stopping world number one Rafael Nadal, bidding for his seventh straight title in Monte Carlo, as he swept aside Croatian Ivan Ljubicic 6-1 6-3 to reach the last four.